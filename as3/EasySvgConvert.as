package{
import flash.display.*;
import flash.text.*;
import flash.geom.Point;

[SWF(backgroundColor="#ffffff")]
public class EasySvgConvert extends Sprite{
	private var canvas:Sprite;
	private var source:TextField;
	
	public function EasySvgConvert(){
		stage.scaleMode ="noScale";
		stage.align = "TL";

		canvas = new Sprite();
		canvas.x = 100; canvas.y = 300;
		addChild(canvas);

		source = new TextField();
		source.x = 300;
		source.width = 200;
		source.height = 250;
		source.multiline = source.border = true;
		addChild(source);
		
		var button:Button = new Button("convert");
		button.y = 260;
		addChild(button);
		button.addEventListener("click", function(event:*):void{
			//try{
				convert(tf.text);
			//}catch(e:Error){
			//	tf.text = e.toString();
			//}
		});
		
		var tf:TextField = new TextField();
		tf.multiline = tf.border = true;
		tf.width = 250;
		tf.height = 250;
		tf.type = "input";
		tf.text = defaultSvg.replace(/\r\n/g, "\n");;
		addChild(tf);
	}

	private function convert(svg:String):void{
		canvas.graphics.clear();
		while(canvas.numChildren) canvas.removeChildAt(0);

		var converter:EasySvgConverter = new EasySvgConverter();
		source.text = "";
		var ret:String = "";

		for each(var path:String in svg.match(/ d="[^"]+"/g)){
			path = path.substr(0, path.length - 1).substr(4);

			converter.convert(path);
			var points:Array = converter.getArray();
			var convex:Array = converter.calcConvexHull(points);

			draw(points, convex);
			ret += getText(points, convex);
		}
		source.text = "{'areas': [\n" + ret + "]}";
	}

	private function draw(points:Array, convex:Array):void{
		canvas.graphics.beginFill(0x0, .2);
		canvas.graphics.lineStyle(1, 0x0, .4);

		var moveFlag:Boolean = false;
		for each(var pt:Point in points){
			if(isNaN(pt.x) || isNaN(pt.y)){
				moveFlag = true;
				continue;
			}
			if(moveFlag){
				canvas.graphics.moveTo(pt.x, pt.y);
				moveFlag = false;
			}else{
				canvas.graphics.lineTo(pt.x, pt.y);
			}
		}
		canvas.graphics.endFill();

		moveFlag = true;
		canvas.graphics.lineStyle(1, 0x3399ff);
		for each(pt in convex){
			if(moveFlag){
				canvas.graphics.moveTo(pt.x, pt.y);
				moveFlag = false;
			}
			else{
				canvas.graphics.lineTo(pt.x, pt.y);
				canvas.addChild(new Circle(pt.x, pt.y));
			}
		}
	}

	private function getText(points:Array, convex:Array):String{
		convex = convex.reverse();

		var ret:String = "{'convex': [";
		for each(var pt:Point in convex){
			ret += pt.x + "," + pt.y + ",";
		}
		ret += "], 'pt': [";
		for each(pt in points){
			ret += pt.x + "," + pt.y + ",";
		}
		ret += "]},\n";

		return ret;
	}
}
}

import flash.display.*;
import flash.geom.*;
import flash.text.*;

class EasySvgConverter{
	private var svg:String;
	private var pos:int;
	private var path:Array;

	public function convert(_svg:String):void{
		svg = _svg;
		pos = 0;
		path = [];

		var token:String;
		while((token = getToken()) != ""){
			var isUpper:Boolean = (token == token.toUpperCase());
			switch(token.toLowerCase()){
				case "m":
					path.push(new SvgMove(
						parseFloat(getToken()), parseFloat(getToken()), 
						isUpper
					));
					break;

				case "c":
					path.push(new SvgBezier(
						parseFloat(getToken()), parseFloat(getToken()), 
						parseFloat(getToken()), parseFloat(getToken()), 
						parseFloat(getToken()), parseFloat(getToken()), 
						isUpper
					));
					break;

				case "s":
					path.push(new SvgBezier(
						0, 0,
						parseFloat(getToken()), parseFloat(getToken()), 
						parseFloat(getToken()), parseFloat(getToken()), 
						isUpper
					));
					break;

				case "h":
					path.push(new SvgLineTo(parseFloat(getToken()), NaN, isUpper));
					break;

				case "v":
					path.push(new SvgLineTo(NaN, parseFloat(getToken()), isUpper));
					break;

				case "l":
					path.push(new SvgLineTo(parseFloat(getToken()), parseFloat(getToken()), isUpper));
					break;

				case "z":
					// assume that start point and end point are equal
					break;

				default:
					throw new Error("not implemented: " + token);
			}
		}
	}

	private function getToken():String{
		var sub:String = svg.substr(pos);
		var matches:Array;

		if((matches = sub.match(/^[ \t,\r\n]+/))){
			pos += matches[0].length;
			sub = sub.substr(matches[0].length);
		}

		if(sub.match(/^[a-z]/i)){
			pos++;
			return sub.charAt(0);
		}

		if((matches = sub.match(/^-?\d*(?:\.\d*)?/))){
			pos += matches[0].length;
			return matches[0];
		}

		return "";
	}

	public function getArray():Array{
		var ret:Array = [];
		var pt:Point = new Point();
		for each(var obj:ISvgDrawable in path){
			obj.addArray(ret, pt);
		}
		return ret;
	}

	public function calcConvexHull(points:Array):Array{
		var ret:Array = [];

		// 開始ポイント(Y座標が最大のもの)を求める
		var maxY:Number = -Infinity;
		var start:Point;
		for each(var pt:Point in points){
			if(maxY < pt.y){
				maxY = pt.y;
				start = pt;
			}
		}
		ret.push(start);

		// ...
		var cur:Point = start;
		var vecX:Point = new Point(1, 0);
		while(true){
			var maxCos:Number = -2;
			var nextPt:Point;

			for each(pt in points){
				if(pt == cur) continue;

				// 内積を使って cosθ を求める
				var cos:Number = (pt.x - cur.x) * vecX.x + (pt.y - cur.y) * vecX.y;
				cos /= Point.distance(pt, cur);

				if(cos > maxCos){
					maxCos = cos;
					nextPt = pt;
				}
			}

			if(start == nextPt) break;

			ret.push(nextPt);
			vecX = nextPt.subtract(cur);
			vecX.normalize(1);
			cur = nextPt;
		}

		return ret;
	}
}

interface ISvgDrawable{
	function addArray(arr:Array, pt:Point):void;
}

function roundPoint(pt:Point):void{
	pt.x = Math.round(pt.x * 10000) / 10000;
	pt.y = Math.round(pt.y * 10000) / 10000;
}

class SvgMove implements ISvgDrawable{
	public var x:Number;
	public var y:Number;
	public var absolute:Boolean;
	public function SvgMove(_x:Number, _y:Number, _absolute:Boolean){
		x = _x;
		y = _y;
		absolute = _absolute;
	}

	public function addArray(arr:Array, pt:Point):void{
		if(absolute){
			pt.x = x; pt.y = y;
		}else{
			pt.x += x; pt.y += y;
		}
		roundPoint(pt);
		arr.push(new Point(NaN, NaN)); // notify 'moveTo'
		arr.push(pt.clone());
	}
}

// only draws a line from p1 to p4.
class SvgBezier implements ISvgDrawable{
	public var p2x:Number;
	public var p2y:Number;
	public var p3x:Number;
	public var p3y:Number;
	public var p4x:Number;
	public var p4y:Number;
	public var absolute:Boolean;
	public function SvgBezier(_p2x:Number, _p2y:Number, _p3x:Number, _p3y:Number, _p4x:Number, _p4y:Number, _absolute:Boolean){
		p2x = _p2x; p2y = _p2y;
		p3x = _p3x; p3y = _p3y;
		p4x = _p4x; p4y = _p4y;
		absolute = _absolute;
	}

	public function addArray(arr:Array, pt:Point):void{
		if(absolute){
			pt.x = p4x; pt.y = p4y;
		}else{
			pt.x += p4x; pt.y += p4y;
		}
		roundPoint(pt);
		arr.push(pt.clone());
	}
}

class SvgLineTo implements ISvgDrawable{
	public var x:Number;
	public var y:Number;
	public var absolute:Boolean;
	public function SvgLineTo(_px:Number, _py:Number, _absolute:Boolean){
		x = _px; y = _py;
		absolute = _absolute;
	}

	public function addArray(arr:Array, pt:Point):void{
		if(absolute){
			if(!isNaN(x)) pt.x = x;
			if(!isNaN(y)) pt.y = y;
		}else{
			if(!isNaN(x)) pt.x += x;
			if(!isNaN(y)) pt.y += y;
		}
		roundPoint(pt);
		arr.push(pt.clone());
	}
}

class Circle extends Sprite{
	public function Circle(x:Number, y:Number){
		graphics.beginFill(0x3399ff);
		graphics.drawCircle(x, y, 2);
		graphics.endFill();
	}
}

class Button extends Sprite{
	public function Button(label:String){
		graphics.beginFill(0xcccccc);
		graphics.drawRect(0, 0, 50, 30);
		graphics.endFill();
		buttonMode = useHandCursor = true;
		mouseChildren = false;

		var tf:TextField = new TextField();
		tf.text = label;
		addChild(tf);
	}
}

// Hokkaido svg
var defaultSvg:String = '<path i:knockout="Off" fill="#FFFFFF" d="M122.377,57.787c0,0-5.191-2.143-8.04-3.73c-2.848-1.588-3.957-2.445-4.058-2.672\n'
 + '	c-0.102-0.227,0.024-1.008-0.353-1.234c-0.379-0.228-0.858-0.505-1.261-0.782c-0.404-0.277-2.344-1.663-2.596-1.915\n'
 + '	s-3.075-2.143-3.479-2.496c-0.402-0.353-1.639-1.537-1.639-1.537s0.176-0.429,0.101-0.378c-0.075,0.05-0.226,0.252-0.831-0.101\n'
 + '	c-0.604-0.353-1.21-0.958-1.36-1.16c-0.152-0.201-1.487-2.243-2.093-2.823c-0.604-0.579-2.47-2.697-2.697-2.873\n'
 + '	c-0.228-0.176-1.311-1.059-2.041-2.017c-0.731-0.958-1.715-2.218-1.967-2.697c-0.252-0.479-0.075-0.353-0.327-0.604\n'
 + '	c-0.252-0.252-0.781-0.63-0.983-1.008s-0.832-1.815-0.934-1.966c-0.1-0.151-0.201-0.076-0.352-0.227\n'
 + '	c-0.152-0.151-1.059-1.059-1.109-1.386c-0.051-0.328,0.277-0.378,0.15-0.63c-0.125-0.252-0.327-0.555-0.302-0.781\n'
 + '	c0.025-0.228,0.025-0.354-0.177-0.555c-0.201-0.202-0.276-0.479-0.555-0.706c-0.276-0.228-0.555-0.555-0.654-1.059\n'
 + '	c-0.102-0.504,0.1-0.453-0.252-0.983c-0.354-0.528-0.656-0.882-0.983-1.209c-0.328-0.327-1.765-1.689-2.041-1.965\n'
 + '	c-0.278-0.278-2.37-2.849-2.899-3.529s-2.168-2.546-2.42-2.975s-1.739-2.772-1.965-3.025c-0.228-0.252-0.455-0.781-1.992-1.865\n'
 + '	c-1.538-1.083-2.219-1.638-2.521-2.117c-0.303-0.479-0.327-0.706-0.478-0.883c-0.152-0.176,0-0.227-0.126-0.479\n'
 + '	c-0.127-0.252-0.328-0.328-0.53-0.504c-0.201-0.177-0.579-0.555-0.806-0.958c-0.228-0.403-0.278-1.108-0.504-1.386\n'
 + '	c-0.228-0.277-0.329-0.353-0.479-0.353c-0.152,0-0.378-0.151-0.63-0.177c-0.253-0.025-0.504-0.075-0.631,0\n'
 + '	c-0.126,0.076-0.529,0.202-0.555,0.505c-0.025,0.302-0.126,0.403-0.277,0.504c-0.15,0.101-0.201,0.605-0.201,0.781\n'
 + '	c0,0.177-0.176,0-0.101,0.379c0.075,0.378-0.152,1.613-0.983,2.067c-0.832,0.453-2.143,1.033-2.521,0.73\n'
 + '	c-0.378-0.303-0.429,0.151-0.504,0.151s-0.857,0.504-1.134,0.227c-0.278-0.277-0.228-0.05-0.479-0.252s-0.328-0.856-0.453-1.033\n'
 + '	c-0.127-0.177-0.278-0.303-0.53-0.58s-0.377-0.479-0.403-0.202c-0.024,0.277-0.226,1.739-0.201,2.193\n'
 + '	c0.025,0.454,0.655,1.033,0.655,1.412c0,0.378-0.075,0.856-0.428,1.234c-0.354,0.378-0.303,0.858-0.479,0.882\n'
 + '	c-0.177,0.025-0.453,0.101-0.402,0.328c0.049,0.227,0.276,0.529,0.175,0.781c-0.1,0.252-0.555,1.209-0.857,1.538\n'
 + '	c-0.303,0.328-0.604,0.832-0.63,1.512c-0.024,0.68-0.075,1.941,0.707,3.579c0.78,1.639,3.705,8.142,4.359,11.066\n'
 + '	c0.656,2.924,1.336,6.049,1.487,8.091s-0.05,4.386-0.05,4.865s-0.151,0.731-0.277,0.932c-0.126,0.202-0.327,0.328-0.353,1.941\n'
 + '	s-0.529,3.881-0.808,4.234c-0.276,0.354-0.705,0.982-0.831,1.185s-0.126,0.706-0.329,0.907c-0.201,0.202-0.25,0.277-0.301,0.479\n'
 + '	s-0.202,0.228-0.228,0.479s0.075,0.504-0.227,0.855c-0.303,0.354-0.202,0.631-0.429,0.631s-0.327-0.102-0.327,0.479\n'
 + '	s0.276,1.009,0.276,1.539c0,0.527-0.075,2.721-0.075,4.007c0,1.285,0.277,5.344,0.252,5.948\n'
 + '	c-0.025,0.605-0.403,2.496-0.555,2.898c-0.15,0.404,0.127,0.807,0.127,0.807s-0.151-0.025-0.253,0.127\n'
 + '	c-0.102,0.15-0.102,0.555-0.276,0.756c-0.177,0.201-0.758,1.083-0.833,1.336c-0.075,0.252-0.429,0.681-0.605,0.807\n'
 + '	c-0.175,0.126-1.134,0.883-1.385,0.781c-0.252-0.102-0.303-0.176-0.504-0.102c-0.202,0.076-0.404,0.656-0.782,0.807\n'
 + '	c-0.378,0.152-1.083,0.202-1.361,0.277c-0.276,0.076-0.932,0.505-1.184,0.555c-0.252,0.051-0.857,0.58-1.109,0.933\n'
 + '	c-0.252,0.354-0.378,1.286-0.707,1.765c-0.327,0.479-0.856,1.21-0.504,2.546c0.354,1.336,0.884,2.999,1.008,3.327\n'
 + '	c0.126,0.328,0.681,1.109,0.506,1.487c-0.177,0.378-0.404,1.109-0.506,1.588c-0.1,0.479-0.528,1.009-0.226,1.437\n'
 + '	c0.303,0.429,2.016,3.428,2.042,4.134c0.024,0.706-0.127,2.874-0.127,3.378s-0.151,0.655-0.529,1.108\n'
 + '	c-0.378,0.454-0.729,1.06-0.906,1.261s-1.337,1.814-1.64,2.117c-0.302,0.303-0.428,0.403-0.554,0.403s-0.025,0.101,0.024,0.151\n'
 + '	c0.051,0.051-0.05,0.151-0.252,0.201c-0.201,0.051-0.15,0.328-0.276,0.404c-0.126,0.074-0.354,0.1-0.479,0.252\n'
 + '	c-0.126,0.15-0.327,0.377-0.504,0.453s-0.303,0.076-0.378,0.227c-0.077,0.152-0.656,0.504-0.933,0.58\n'
 + '	c-0.277,0.076-1.159,0.731-1.765,0.731s-0.731-0.53-1.085-0.757c-0.352-0.227-0.579-0.529-0.906-0.58\n'
 + '	c-0.328-0.05-0.403,0.152-0.681,0.051c-0.277-0.101-0.176-0.051-0.379-0.051c-0.201,0-0.906-0.025-1.134-0.326\n'
 + '	c-0.228-0.303-0.655-1.06-0.53-1.084c0.128-0.025,0.455-0.152,0.404-0.429c-0.051-0.277-0.201-0.631-0.126-0.757\n'
 + '	s0.177-0.201-0.024-0.176c-0.203,0.024-0.782,0-0.983,0.024c-0.202,0.025-0.681,0.504-0.883,0.504\n'
 + '	c-0.201,0-0.654-0.101-0.807,0.076c-0.15,0.177-0.024,0.454-0.177,0.504c-0.15,0.051-1.36,0.505-1.512,0.303\n'
 + '	s-0.227-0.681-0.303-0.529c-0.075,0.151,0.025,0.681-0.075,0.681s-1.488,0.479-1.84,0.354c-0.354-0.127-0.731-0.278-0.681-0.53\n'
 + '	c0.05-0.252,0.276-0.681,0-0.807c-0.277-0.126-0.731-0.177-0.958-0.378c-0.228-0.201-0.655-0.58-0.933-0.631\n'
 + '	c-0.278-0.05-0.705-0.176-0.908-0.326c-0.201-0.152-1.159-0.178-1.209-0.48c-0.051-0.303,0.101-0.604-0.025-0.705\n'
 + '	c-0.126-0.101-1.512-0.655-1.766-0.882c-0.25-0.228-1.536-1.411-1.663-1.614c-0.125-0.201-0.101-0.479-0.227-0.479\n'
 + '	s-0.277,0.227-0.403,0.051c-0.125-0.176-0.125-0.479-0.429-0.605c-0.301-0.125-0.378-0.05-0.604-0.15\n'
 + '	c-0.228-0.102-0.429,0.227-0.555,0.227s0.303,0.126,0.201,0.252s-0.177,0.504-0.252,0.681s-0.555,0.504-0.782,0.555\n'
 + '	c-0.226,0.05-0.654-0.025-0.856-0.025c-0.201,0-1.109,0.101-1.437,0.101c-0.329,0-0.278,0.102-0.228,0.303\n'
 + '	s0.303,0.479,0.177,0.655s-0.303,0.479-0.402,0.781c-0.102,0.303-0.228,0.327-0.177,0.505c0.051,0.176,0.075,0.58-0.126,0.629\n'
 + '	c-0.203,0.051,0.024,0.228,0.024,0.379c0,0.15-0.228,0.58-0.276,0.933c-0.051,0.353,0.126,0.983,0.402,1.335\n'
 + '	c0.276,0.354,1.01,1.286,1.337,1.538s0.882,0.479,1.259,1.084c0.379,0.604,1.136,1.36,1.185,1.815\n'
 + '	c0.051,0.453,0.026,0.554,0.455,0.856s0.429,1.084,0.681,1.437c0.252,0.354,0.402,0.453,0.604,0.453\n'
 + '	c0.201,0,0.303,0.328,0.303,0.555s0.125,1.135-0.505,1.337c-0.63,0.201-1.16,0.681-1.613,0.958s-0.705,0.58-1.008,0.781\n'
 + '	s-0.378,0.428-0.655,0.63s-0.378,0.327-0.528,0.504c-0.152,0.177-0.379,1.059-0.605,1.312c-0.228,0.252-0.53,1.033-0.731,1.133\n'
 + '	c-0.201,0.102-0.958,0.808-1.185,1.135c-0.227,0.328-0.252,0.908-0.102,1.387c0.151,0.479,0.102,0.68-0.15,0.883\n'
 + '	c-0.253,0.201-1.234,0.73-1.563,0.352c-0.327-0.377-0.126-0.881-0.378-1.158s-0.579-0.429-0.882-0.731s-0.303-0.403-0.429-0.403\n'
 + '	s-0.856,1.135-1.159,1.462s-0.404,0.831-0.276,0.983c0.126,0.15,0.049,0.453-0.102,0.529c-0.152,0.075-0.152-0.051-0.504,0.075\n'
 + '	c-0.354,0.126-0.429,0.479-0.656,0.479c-0.226,0-0.73,0.177-0.933,0.429c-0.201,0.252-0.327,0.682-0.378,0.807\n'
 + '	c-0.05,0.127-0.15,0.303-0.377,0.479c-0.228,0.178-1.109,0.455-1.437,0.379c-0.329-0.076-1.06-0.127-1.539-0.127\n'
 + '	c-0.479,0-2.042,0.354-2.469,1.06c-0.43,0.706-0.479,1.21-0.833,1.487c-0.353,0.277-0.781,0.555-0.756,0.906\n'
 + '	c0.025,0.354,0.252,0.48,0.303,0.656c0.05,0.176-0.025,1.588,0.05,1.966c0.076,0.378,0.378,1.108,0.378,1.487\n'
 + '	c0,0.378,0.151,2.924,0.051,3.377c-0.102,0.454-0.479,1.538-0.63,1.765c-0.151,0.228-0.151,0.303-0.403,0.605\n'
 + '	c-0.253,0.302-0.379,0.831-0.73,0.831c-0.354,0-0.404,0.479-0.455,1.034s-0.252,1.134-0.15,1.21\n'
 + '	c0.1,0.075,0.303,0.378,0.303,0.705c0,0.328-0.152,0.631-0.252,0.756c-0.102,0.127,0.177,0.303,0.303,0.656\n'
 + '	c0.124,0.353,0.453,0.933,0.63,0.856c0.177-0.075,0.226-0.176,0.303,0.051c0.075,0.227,0.201,0.277,0.302,0.176\n'
 + '	c0.101-0.101,0.101-0.05,0.277,0.026c0.176,0.075,0.757,0.15,0.982,0.201c0.228,0.051,0.354,0.201,0.404,0.453\n'
 + '	c0.049,0.252,0,0.555,0.075,0.707c0.075,0.15,1.185,2.142,1.235,2.344c0.051,0.201,2.017,0.277,2.521,0.579\n'
 + '	c0.504,0.303,1.361,1.06,1.638,1.765c0.277,0.706,1.537,2.445,1.613,2.773c0.076,0.327,0.554,0.73,0.554,0.932\n'
 + '	c0,0.202,0.278,0.605,0.228,0.731s-0.1,0.277-0.1,0.63c0,0.354,0.201,2.621-0.026,3.024s-0.327,0.479-0.378,0.63\n'
 + '	c-0.051,0.152,0.075,0.252,0.051,0.959c-0.026,0.705,0.126,1.486-0.228,1.486c-0.353,0-0.906-0.378-1.134-0.101\n'
 + '	c-0.227,0.277-0.051,0.958-0.227,1.513c-0.177,0.555-0.807,1.613-1.109,2.092c-0.303,0.479-0.831,1.789-0.933,2.445\n'
 + '	c-0.102,0.654-0.555,2.494-0.579,3.201c-0.026,0.705,0.15,1.285,0.377,1.814s0.958,2.924,1.135,3.277\n'
 + '	c0.177,0.353,1.361,1.688,1.714,1.613c0.354-0.076,1.185-0.43,1.514-0.252c0.327,0.176,1.663,1.36,1.839,1.31\n'
 + '	c0.176-0.05,0.907-1.083,1.285-1.89s0.555-0.681,0.681-1.16c0.126-0.479,0.631-0.756,0.908-0.882\n'
 + '	c0.276-0.126,1.285-0.604,1.588-0.831c0.301-0.227,1.26-0.127,1.714-0.303c0.453-0.178,1.26-0.883,1.134-1.312\n'
 + '	s-0.353-1.008-0.353-1.487c0-0.479,0.379-2.722,0.379-3.15c0-0.428,0.504-1.184,0.831-1.361c0.327-0.176,1.512-0.051,1.915-0.252\n'
 + '	s1.109-0.856,1.412-1.109c0.303-0.252,0.908-0.378,0.983-0.58c0.075-0.201,0.378-1.385,0.604-1.89\n'
 + '	c0.227-0.504,0.479-1.059,1.033-1.159c0.554-0.102,0.883-0.025,1.261,0.201c0.378,0.228,1.159,0.832,1.109,1.135\n'
 + '	c-0.051,0.303,0,0.654-0.354,0.631c-0.354-0.026-0.504,0-0.479-0.229c0.026-0.227-0.075-0.025-0.276,0.152\n'
 + '	c-0.201,0.176-0.177,0.832,0.024,1.008s0.429,0,0.605-0.201c0.177-0.203,0.327-0.656,0.58-0.656c0.251,0,0.856-0.353,1.36-0.201\n'
 + '	c0.505,0.15,1.438,0.58,1.992,0.605c0.554,0.025,1.738,0.579,2.167,0.68c0.429,0.102,1.059,0.731,1.059,0.983\n'
 + '	s0.504,0.505,1.084,0.252c0.579-0.252,0.201-0.05,0.681-0.252s0.605,0,0.807-0.227c0.201-0.228,0.63-0.454,1.034-0.907\n'
 + '	c0.402-0.454,0.1-0.732,0.428-0.756c0.328-0.025,0.277-0.178,0.504-0.53c0.228-0.353,0.278-0.479,0.579-0.479\n'
 + '	c0.303,0,1.059,0.177,1.337-0.076c0.276-0.252,0.705-0.276,0.705-0.428s0.102-0.655-0.352-0.782\n'
 + '	c-0.455-0.126-0.758-0.201-0.833-0.402c-0.075-0.202,0.026-1.059-0.303-1.236c-0.327-0.176-0.504-0.353-0.982-0.629\n'
 + '	c-0.479-0.278-1.664-0.983-2.066-0.934c-0.404,0.051-0.807,0.151-1.211-0.151c-0.403-0.302-1.007-0.73-1.234-1.058\n'
 + '	c-0.228-0.328-0.605-0.529-0.605-0.732c0-0.201-0.075-0.428-0.177-0.578c-0.1-0.152-0.478-0.479-0.605-0.757\n'
 + '	c-0.124-0.277,0.128-0.177-0.25-0.529c-0.379-0.353-0.379-0.655-0.833-0.807c-0.453-0.151-0.907-0.554-1.058-0.681\n'
 + '	c-0.152-0.126-1.109-1.033-1.16-1.437s-0.024-0.706-0.126-0.706s-0.681-0.126-0.857-0.479c-0.177-0.354-0.075-0.756-0.302-1.008\n'
 + '	s-1.008-0.605-1.311-0.908c-0.303-0.302-0.126-0.302-0.429-0.05s-0.53,0.378-1.235,0.327s-1.563,0.453-1.94,0.529\n'
 + '	c-0.379,0.076-1.488,0.126-2.118-0.378c-0.629-0.504-0.756-0.807-1.184-1.135c-0.429-0.327-0.782-0.554-0.983-0.806\n'
 + '	s-0.303-0.529-1.034-0.857c-0.73-0.328-0.882-0.504-1.058-0.73c-0.177-0.228-0.479-0.505-1.16-0.808\n'
 + '	c-0.681-0.302-1.941-0.63-2.218-1.083c-0.277-0.453-0.327-0.631-0.126-1.891c0.201-1.261,0.882-4.563,1.411-5.771\n'
 + '	c0.53-1.211,3.402-5.672,4.361-6.025c0.957-0.353,1.059,0.025,1.437-0.126s0.73-0.126,1.084,0.126\n'
 + '	c0.352,0.252,0.479,0.681,1.109,0.454s1.083-0.354,1.36-0.479c0.277-0.125,0.604-0.201,1.059-0.125\n'
 + '	c0.453,0.075,0.831-0.102,1.386,0.024s0.908,0.706,1.109,0.983c0.202,0.277,1.009,0.756,0.983,1.008s-0.227,0.555-0.051,0.631\n'
 + '	s0.505,0.201,0.43,0.277c-0.077,0.075-0.278-0.025-0.228,0.125c0.051,0.152-0.228,0.379,0.201,0.429\n'
 + '	c0.429,0.051,0.63-0.276,0.731,0.102c0.1,0.378,0.327,0.756,0.579,0.957c0.252,0.202,0,0.228,0.53,0.354\n'
 + '	c0.528,0.126,1.058,0.78,1.084,1.058c0.024,0.277,0.705,1.664,0.756,2.194c0.049,0.528,0.402,1.007,0.908,1.108\n'
 + '	c0.504,0.102,1.184,0.479,1.335,0.832c0.151,0.353,0.201,0.856,0.024,0.705c-0.176-0.15-0.855-0.857-1.032-0.781\n'
 + '	s-0.453,0.127-0.404,0.403c0.051,0.277,0.327,0.781,0.605,0.781c0.276,0,0.403,0.102,0.479,0.277\n'
 + '	c0.075,0.177,0.479,0.228,0.68,0.277c0.201,0.051,0.504-0.05,0.504-0.303c0-0.252,0.354-0.933,0.656-1.058\n'
 + '	c0.301-0.127,2.269-2.647,2.974-3.403c0.705-0.757,1.211-0.706,1.664-1.159s5.898-4.714,6.957-5.269\n'
 + '	c1.058-0.554,5.092-2.294,7.233-2.344c2.143-0.05,4.285,0.681,4.285,0.681s-0.151,0.277,0,0.328s0.604,0.15,0.604-0.025\n'
 + '	s0.05-0.277,0.304-0.277c0.252,0,0.705,0.125,0.453,0.125s-0.58,0.203-0.303,0.252c0.276,0.051,2.143,0.959,2.319,1.135\n'
 + '	c0.176,0.177,0.528,0.781,0.78,0.883c0.252,0.101,0.857,0.327,1.034,0.58c0.177,0.252,0.908,1.184,1.134,1.26\n'
 + '	c0.228,0.076,0.781,0.453,0.857,0.579s-0.05,0.378,0.428,0.529c0.479,0.151,1.412,0.151,1.992,0.354\n'
 + '	c0.58,0.201,2.219,0.327,3.176,1.235c0.958,0.907,2.193,2.747,2.898,3.377c0.707,0.631,1.563,0.958,1.79,1.109\n'
 + '	c0.227,0.151,0.907,1.059,1.36,1.159c0.455,0.102,1.034-0.151,1.487,0.429c0.454,0.58,1.135,1.361,1.438,1.361\n'
 + '	s0.654,0.227,0.807,0.303c0.15,0.074,1.185,0.579,1.512,0.63c0.328,0.05,1.513,0.604,1.915,0.882\n'
 + '	c0.404,0.277,1.01,0.982,1.413,1.186c0.402,0.201,1.536,0.529,1.865,0.579c0.327,0.05,0.831,0.454,1.386,0.756\n'
 + '	c0.555,0.303,1.285,0.807,1.639,0.832s2.395,0.277,3.251,0.756c0.856,0.479,1.336,1.134,1.992,1.513\n'
 + '	c0.655,0.378,2.017,1.285,2.772,1.739c0.756,0.453,1.99,1.94,2.017,2.218c0.024,0.277-0.102,0.328,0.051,0.429\n'
 + '	c0.15,0.101,0.755,0.832,0.933,0.933c0.177,0.102,0.378,0.177,0.654,0.479c0.276,0.303,0.832,1.033,0.832,1.033\n'
 + '	s-0.202-2.218,0.277-3.176c0.479-0.957,1.008-1.285,1.084-1.537c0.075-0.252,0.63-1.008,0.681-1.563s0.378-1.412,0.327-1.789\n'
 + '	c-0.051-0.379,0.051-1.664,0.201-2.244c0.152-0.58,0.455-0.631,0.152-1.185c-0.303-0.555-0.378-0.958-0.605-1.689\n'
 + '	c-0.228-0.73,0.126-1.839,0.126-2.192c0-0.353,2.748-6.428,5.747-10.737c3-4.311,6.15-6.68,7.46-8.142\n'
 + '	c1.313-1.463,4.514-4.613,6.403-5.949c1.891-1.336,2.924-2.066,3.302-2.219c0.378-0.15,0.807,0.025,1.16-0.275\n'
 + '	c0.352-0.303,0.831-0.857,1.437-1.109c0.604-0.253,3.655-1.16,4.612-1.186s0.681,0.051,0.681,0.252\n'
 + '	c0,0.202,0.152,0.227,0.354,0.227s0.276,0.152,0.402-0.024s0.228-0.228,0.455-0.126c0.226,0.101,0.352,0.403,0.049,0.429\n'
 + '	c0,0,0.807,0.327,0.102,0.604s0.454,0.303,0.681,0.277s0.227,0.303,0.528,0.403c0.304,0.101,0.832,0.202,1.109,0.302\n'
 + '	c0.277,0.102,0.479,0.379,1.06,0.379c0.579,0,1.083-0.152,1.285-0.277c0.201-0.127,0.831,0.051,1.538,0\n'
 + '	c0.705-0.051,1.512-0.102,2.092-0.051c0.579,0.051,1.26,0.656,1.89,0.656c0.631,0,3.024,0.125,2.799-0.051\n'
 + '	c-0.228-0.178-0.959-0.58-1.312-0.983s-0.555-0.479-0.681-0.681c-0.126-0.201,0.43-1.814,1.285-2.646\n'
 + '	c0.857-0.832,1.463-0.983,1.892-0.856c0.428,0.126,0.882,0.554,0.807,0.353c-0.076-0.201-0.303-0.328-0.177-0.529\n'
 + '	c0.126-0.202,1.108-0.328,1.612-0.227c0.504,0.101,1.262,0.807,1.235,0.982c-0.024,0.176-0.15,0.176-0.15,0.328\n'
 + '	c0,0.15,0.252,0.377,0,0.328c-0.252-0.051-0.479,0.1-0.605,0.252c-0.126,0.15-0.276,0.302-0.453,0.176\n'
 + '	c-0.177-0.127-0.354,0.025-0.605-0.127c-0.252-0.15-0.605-0.377-0.655-0.479c-0.051-0.1-0.201-0.554-0.302-0.479\n'
 + '	c-0.102,0.076-0.228,0.303-0.379,0.379c-0.151,0.074-0.024,0.326,0.025,0.479c0.05,0.15-0.227,0.201-0.076,0.303\n'
 + '	c0.151,0.1,0.757,0.176,0.731,0.377c-0.025,0.202-0.101,0.328,0,0.328s0.403,0.101,0.403,0.328c0,0.227,0.201,0.353,0.429,0.302\n'
 + '	c0.226-0.05,0.303-0.176,0.681-0.101c0.378,0.076,0.429,0.303,0.453,0.202c0.026-0.102,0.051-0.328,0.252-0.253\n'
 + '	c0.202,0.076,0.983,0.303,1.261,0.202s0.579-0.504,0.731-0.479c0.15,0.025,1.008,0,0.957-0.377\n'
 + '	c-0.051-0.379-0.15-0.43-0.15-0.605s0.478-0.504,0.731-0.555c0.252-0.051,0.604-0.63,0.654-0.807\n'
 + '	c0.051-0.176,0.277-0.705,0.353-0.807c0.076-0.101,0.706-0.353,0.933-0.378c0.228-0.025,0.102-0.101,0.025-0.604\n'
 + '	s0.025-0.732,0.151-1.059c0.126-0.328,0.126-0.555,0.429-0.706s0.53-0.151,0.857-0.328c0.327-0.176,0.528,0.127,0.882,0.151\n'
 + '	c0.353,0.025,0.958,0.127,1.639-0.378s1.386-0.757,1.588-0.832c0.201-0.075,0.579,0.126,0.78,0.025\n'
 + '	c0.202-0.101,1.814-0.604,2.975-0.63c1.159-0.025,1.815-0.277,2.143,0.076c0.327,0.352,0.53,0.654,0.404,0.68\n'
 + '	s-0.152,0.252,0.051,0.252c0.201,0,0.755-0.101,0.654-0.353c-0.101-0.253-0.63-0.504-0.504-0.63\n'
 + '	c0.126-0.127,0.907-0.025,0.882-0.252s-0.528-0.379-0.479-0.505s0.378-0.302,0.604-0.353s0.68-0.101,0.58-0.277\n'
 + '	c-0.102-0.177-0.403-0.252-0.202-0.453c0.202-0.202,0.227-0.404,0.227-0.857c0-0.454,0.177-0.73,0.278-0.832\n'
 + '	c0.1-0.102,0-0.479,0.126-0.555s0.478-0.227,0.478-0.126s0,0.228,0.128,0.177c0.126-0.051,0.301-0.102,0.301-0.379\n'
 + '	c0-0.276,0.177-0.125,0.252-0.353c0.077-0.227-0.075-0.428,0.051-0.555c0.126-0.125,0.378-0.252,0.555-0.378\n'
 + '	s0.479,0.051,0.354-0.075s-0.404-0.354-0.177-0.403c0.227-0.051,0.378,0.252,0.303,0.277c-0.076,0.024-0.025,0.151,0.101,0.126\n'
 + '	s0.63,0.051,0.781,0.177s0.227,0.303,0.227,0.101s0.252-0.403,0.504-0.529s0.329-0.102,0.581-0.228\n'
 + '	c0.252-0.125,0.478,0.177,0.553,0.126c0.077-0.05,0.026-0.327,0.203-0.353s0.126,0.202,0.378,0.126\n'
 + '	c0.252-0.075,0.201-0.353,0.528-0.403c0.328-0.051,0.43-0.025,0.58-0.303c0.151-0.277,0.278-0.303,0.504-0.377\n'
 + '	c0.228-0.076,0.378-0.178,0.252-0.277c-0.126-0.102-0.226-0.277-0.075-0.454c0.152-0.177,0.201-0.504-0.075-0.429\n'
 + '	c-0.276,0.076-0.378,0.252-0.731,0.102c-0.353-0.151-0.604-0.025-0.681-0.177c-0.075-0.151,0-0.403-0.151-0.303\n'
 + '	c-0.15,0.101-0.15,0.328-0.327,0.277s-0.354-0.151-0.378,0c-0.026,0.151-0.378,0.429-0.78,0.403\n'
 + '	c-0.404-0.025-1.337-0.403-1.488-0.403s-0.302,0.277-0.453,0.504c-0.152,0.228-0.379,0.579-0.758,0.831\n'
 + '	c-0.378,0.253-0.528,0.051-0.831,0.404c-0.303,0.353-0.402,0.604-0.555,0.807c-0.15,0.201-0.528,0.327-0.63,0.327\n'
 + '	s0.177,0.025,0.051,0.228c-0.126,0.201-0.504,0.378-0.605,0.303c-0.101-0.076-0.302-0.076-0.328,0.15\n'
 + '	c-0.024,0.227,0.076,0.429-0.024,0.479c-0.101,0.051-0.479,0.127-0.53,0.379c-0.049,0.252-0.175,0.58-0.327,0.654\n'
 + '	c-0.15,0.076,0.102,0.303,0.228,0.229c0.126-0.076,0.024-0.303,0.201-0.076s0.504,0.781,0.504,0.932\n'
 + '	c0,0.152-0.555,0.757-0.504,0.631s0.126-0.378-0.075-0.555c-0.201-0.176,0.024-0.403-0.151-0.504\n'
 + '	c-0.176-0.102-0.277-0.025-0.353-0.201c-0.075-0.178-0.051-0.404-0.252-0.529c-0.203-0.127-1.235-0.178-1.412-0.354\n'
 + '	s-0.429-0.201-0.58-0.303c-0.15-0.101-0.654-0.403-0.579-0.227c0.075,0.176,0.882,0.504,0.756,0.504s-0.831,0-0.579,0.102\n'
 + '	c0.252,0.1,0.378,0.125,0.579,0.201c0.202,0.076,0.706,0.201,0.832,0.277s0.504,0.353,0.177,0.303\n'
 + '	c-0.329-0.051-1.16-0.252-1.437-0.252c-0.277,0-1.009,0-1.261-0.127c-0.252-0.125-1.185-0.68-1.337-0.654\n'
 + '	c-0.15,0.024-0.226,0.352-0.352,0.303c-0.127-0.051-0.454-0.43-0.379-0.656s0.303-0.429,0.529-0.353\n'
 + '	c0.228,0.075,0.831,0.151,0.655,0.024c-0.176-0.125-1.486-0.856-1.664-0.856c-0.175,0-0.855,0.151-1.235-0.075\n'
 + '	c-0.378-0.228-0.63-0.505-0.478-0.706c0.15-0.202,0.276-0.655,0.579-0.63s0.983-0.076,1.211,0.125\n'
 + '	c0.227,0.202,0.377,0.051,0.377,0.277c0,0.228,0.202,0.655,0.354,0.782c0.15,0.125,0.479,0.302,0.555,0.201\n'
 + '	c0.075-0.101,0.276-0.05,0.327,0.025s0.126,0.353,0.329,0.353c0.199,0,0.553,0.076,0.427,0c-0.126-0.075-0.807-0.807-1.032-0.933\n'
 + '	c-0.228-0.126-0.707-0.806-0.832-0.958c-0.127-0.15-1.136-2.369-1.26-3.402c-0.126-1.033-0.228-2.395-0.455-2.697\n'
 + '	s-0.024-0.857-0.303-1.361c-0.276-0.504-0.453-1.714-0.781-2.143c-0.327-0.428-0.403-0.555-0.479-0.73s-0.378-0.504-0.227-0.479\n'
 + '	s0.328,0.277,0.277,0.102c-0.051-0.178-0.328-0.328-0.202-0.404s0.529,0.076,0.808,0.201c0.276,0.127,0.805,0.328,1.134,0.328\n'
 + '	c0.327,0,0.504,0.354,0.378,0.354s-0.228,0.402,0.075,0.201s0.58-0.252,0.453-0.176c-0.126,0.074-0.427,0.377-0.175,0.377\n'
 + '	s0.679-0.402,0.78-0.303c0.101,0.102,0.076,0.177,0.253,0.177c0.176,0,0.402,0,0.402,0.228c0,0.227-0.252,0.504-0.126,0.428\n'
 + '	c0.126-0.075,0.327-0.378,0.403-0.227s0.001,0.706-0.151,0.731c-0.15,0.024-1.134,0.15-1.31,0.252\n'
 + '	c-0.177,0.101-0.203,0.075,0.024,0.201s0.453,0.202,0.807,0.202c0.353,0,1.033-0.151,1.033-0.429s-0.15-0.857-0.327-1.109\n'
 + '	s-0.958-0.505-1.513-0.757s-1.463-0.479-1.664-0.529c-0.201-0.05-1.94-0.705-2.041-0.831s-0.705-0.378-0.807-0.529\n'
 + '	s-0.504-1.235-0.681-1.688c-0.177-0.454-0.731-1.438-0.958-1.765c-0.227-0.328-0.655-0.731-0.655-1.336s-0.202-0.731-0.176-0.907\n'
 + '	c0.024-0.176,0.201-0.252,0.176-0.504s-0.302-0.228-0.025-0.479c0.277-0.252,0.58-0.58,0.781-1.033\n'
 + '	c0.201-0.454,0.126-1.513,0.126-1.739s0.102-0.555,0.126-0.832c0.025-0.277,0.303-0.681,0.378-0.882\n'
 + '	c0.075-0.202,0.329-0.731,0.555-0.958c0.228-0.227-0.075-0.303,0.102-0.605c0.177-0.302,0.354-0.604,0.63-0.882\n'
 + '	c0.277-0.276,0.152-0.353,0.354-0.63s0.252-0.555,0.654-0.958c0.403-0.403,0.354-0.681,0.605-0.907s0.328-0.328,0.529-0.529\n'
 + '	s0.555-0.807,0.504-1.109s-0.15-0.63-0.075-0.857c0.075-0.227,0.177-0.932,0.303-1.234s0.252-0.756,0.504-1.008\n'
 + '	s1.008-0.807,1.083-1.009s0.682-1.108,0.857-1.335c0.176-0.229,0.05-0.581,0.151-0.731c0.101-0.151,0.354-0.177,0.402-0.605\n'
 + '	c0.051-0.429-0.024-0.681,0.128-0.807c0.15-0.126,0.579-0.806,0.453-1.009c-0.126-0.201-0.453-0.705-0.504-1.184\n'
 + '	c-0.051-0.479,0.175-0.832-0.051-1.034c-0.228-0.201-0.354-0.151-0.354-0.403s0.101-0.227-0.051-0.402\n'
 + '	c-0.15-0.178-0.378,0-0.428,0.125c-0.05,0.127-0.277,0.177-0.277,0.379c0,0.201,0.025,0.276-0.151,0.428s-0.605,0.252-0.63,0.454\n'
 + '	c-0.024,0.201,0.075,0.58-0.276,0.756c-0.354,0.177-0.429,0.278-0.479,0.353c-0.051,0.076-0.455,0.807-0.681,0.908\n'
 + '	c-0.228,0.101-0.429,0.402-0.504,0.604s-0.555,1.815-0.983,2.093c-0.428,0.277-0.73,0.529-0.907,0.555s-0.327,0.479-0.528,0.479\n'
 + '	c-0.203,0-0.53,0.227-0.632,0.353s-0.756,1.009-1.033,1.084s-0.429,0.529-0.63,0.58c-0.201,0.05-1.235,0.681-1.463,0.933\n'
 + '	c-0.226,0.252-0.226,0.832-0.579,1.108c-0.354,0.277-1.185,0.782-1.335,0.933c-0.151,0.152-0.304,0.682-0.505,0.605\n'
 + '	s-0.354,0.15-0.479,0.402c-0.126,0.254-0.882,1.387-1.16,1.664c-0.276,0.277-0.705,0.605-1.032,0.706s-0.706,0.807-0.832,0.983\n'
 + '	c-0.126,0.176-1.059,0.756-1.284,0.907c-0.228,0.151-1.538,0.73-4.463,0.73c-2.923,0-9.301-1.411-10.032-2.419\n'
 + '	c-0.73-1.009-0.554-0.908-0.654-1.135c-0.102-0.227-0.303-0.453-0.228-0.63c0.076-0.177,0.202-0.228,0.126-0.327\n'
 + '	c-0.075-0.102-1.084-0.43-1.058-0.807c0.024-0.379,0.252-0.228,0.176-0.529c-0.076-0.303-0.252-0.479-0.202-0.808\n'
 + '	c0.051-0.327,0.102-0.706-0.05-1.083c-0.151-0.379-0.076-0.707-0.277-0.605s-0.705,0.404-1.134,0.354s-0.429,0.277-0.404,0.579\n'
 + '	c0.026,0.302,0.126,1.033,0.102,1.261c-0.026,0.227-0.151,0.604-0.403,0.73c-0.252,0.127-0.151,0.529-0.277,0.655\n'
 + '	s-0.655,0.63-1.184,0.63c-0.53,0-1.034-0.277-1.034-0.604c0-0.328,0.1-1.488,0.303-1.664c0.201-0.177,0.303-0.429,0.276-0.605\n'
 + '	c-0.024-0.177-0.228-0.378,0.075-0.453c0.303-0.076,1.462-0.328,1.589-0.379c0.125-0.051,0.353-0.125,0.201-0.201\n'
 + '	s-5.924-1.286-6.099-1.412c-0.179-0.126-0.228-0.101-0.304,0.202c-0.076,0.302-0.277,1.261-0.479,1.513s-0.354,0.705-0.605,0.428\n'
 + '	s-0.302-0.453-0.479-0.453s-0.555-0.076-0.479-0.227c0.077-0.152,0.278-0.529,0.102-0.43c-0.177,0.102-0.782,0.48-1.235,0.404\n'
 + '	s-0.781-0.43-1.059-0.354s-0.58,0.453-0.958,0.404c-0.378-0.051-0.831-0.404-0.882-0.328c-0.051,0.074-0.479,0.328-0.453,0.201\n'
 + '	c0.024-0.127,0.126-0.58-0.177-0.73c-0.303-0.151-0.479-0.051-0.479,0.15s-0.075,0.529-0.227,0.354s-0.101-0.73-0.176-0.933\n'
 + '	c-0.076-0.202-0.505-0.479-0.505-0.781c0-0.303,0.126-0.202,0-0.378c-0.126-0.177-1.16-0.984-1.16-1.236s0.152-0.428,0.252-0.529\n'
 + '	c0.102-0.1,0.253,0.102,0.479,0.102c0.228,0,0.883-0.151,0.907-0.051c0.026,0.102,0,0.252,0.126,0.277\n'
 + '	S122.251,57.888,122.377,57.787z"/>';